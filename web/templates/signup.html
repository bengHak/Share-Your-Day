{% extends 'base.html' %} {% load static %} {% block contents %}
<!DOCTYPE html>
<html lang="kr">

<head>
  <meta charset="UTF-8" />
  <!-- css파일 -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/signup.css' %}" />
  <title>Sign Up</title>
  <style>
    .doublecheck:hover{
      background-color: rgba(255, 110, 97, 0.26);
      color: #FF6F61;
      border-color: rgba(255, 110, 97, 0.26);
    }
  </style>
  <!-- js파일 -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="{% static 'js/signup.js' %}"></script>
</head>

<body>
  <!--
    <script>
      $(function(){
        console.log("dddddd")
        /* username 수정했을 때 */
        $('#email').change(function () {
            $('#img-email').hide();
        });
        
        $('#btn-email').click(function(){
          var email = $('#email').val()
          console.log(email)
          $.ajax({
            url:'/checkemail?email='+email,
            type:'get',
            dataType:'json',
            success:function(response){
                if(response.result != 'success'){
                    console.error(response.data)
                    return;
                }
                if(response.data == 'exist'){
                    alert("존재하는 이메일입니다!");
                    return;
                }else{
                  $('#img-email').show();
                  $("#join-submit").attr("email_check_result", "success");
                  return;
                }
                // console.log(response)
            },
            error : function(xhr, error){
                alert("서버와의 통신에서 문제가 발생했습니다.");
                console.error("error : " + error);
            }
        })
        $("#email").on("propertychange change keyup paste input", function(){
                    $('#img-email').hide();
                    $('#btn-email').show();
                    $("#join-submit").attr("email_check_result", "fail");
                });
                
    });
    </script>
-->
  {% if error_code == 1 %}
    <script>
      $(function(){
        alert("이메일이 중복됩니다.")
        return;
      });
      </script>
    {% endif %}
    {% if error_code == 2 %}
    <script>
      $(function(){
        alert("비밀번호가 다릅니다. CONFIRM PASSWORD를 확인해 주세요.")
        return;
      });
      </script>
    {% endif %}
  <br>
  <br>
  <!-- form 시작-->
  <div class="form">
    <div class="form-panel one">
      <div class="form-header">
        <h1>Sign Up</h1>
        <div class="form-group required" style="float:right; ">
          <label></label>필수입니다
        </div>
      </div>
      <br>
      <div class="form-content">
        <form id="join-form" name="joinForm" action="" method="POST" enctype="multipart/form-data">
          {% csrf_token %}

          <div class="form-group required">
            <label for="username">Username(성명)</label>
            <input type="text" id="username" name="username" required="required" style="width:244px;" />
          </div>
          <div class="form-group required">
            <label for="email" style="width:100%;">E-mail(이메일)</label>
            <input type="text" id="email" name="email" required="required" style="width:244px; height:35px;"
              placeholder="XXX@XXX.com" />
              
            <input type="button" id="btn-email" value="중복확인" class="doublecheck"
              style="float:left; width:23%; border: 2px solid #FF6F61; background-color: #FF6F61; color:white; font-weight: bold; margin: auto; padding-left:10px; border-radius: 10px;" >
              
              <p id="img-username" style="display:none;">사용할 수 있는 이메일입니다.</p>
              </div>
          <div class="form-group required">
            <label for="password">Password(비밀번호)</label>
            <input type="password" id="password" name="password1" required="required"
              style="width:244px; height:35px;" />
          </div>
          <div class="form-group required">
            <label for="password">Confirm Password(비밀번호 확인)</label>
            <input type="password" id="password" name="password2" required="required" style="width:244px; height:35px;">
          </div>

          <div class="form-group required">
            <label for="nickname" style="width:100%;">Nickname(닉네임)</label>
            <input type="text" id="nickname" name="nickname" required="required" style="width:244px; height:35px;">
            <input type="button" id="checknickname" value="중복확인" class="doublecheck"
            style="float:left; width:23%; border: 2px solid #FF6F61; background-color: #FF6F61; color:white; font-weight: bold; margin: auto; padding-left:10px; border-radius: 10px;">
          </div>

          <div class="form-group required">
            <label for="birthday">Birthday(생년월일)</label>
            <input type="date" id="birthday" name="birthday" required="required" style="width:244px; height:35px;">
          </div>

          <div class="form-group required">
            <label for="phoneNumber">Phone Number(휴대폰 번호)</label>
            <input type="number" id="phoneNumber" name="phoneNumber" required="required" placeholder="010XXXXXXXX"
              maxlength="11" oninput="maxLengthCheck(this)" style="width:244px; height:35px;">
          </div>

          <div class="form-group required">
            <label for="profileImage">Profile Image(프로필 사진)</label>
            <input type="file" name="profileImage" id="profileImage" style="width:244px; height:35px;">
          </div>

          <br>
          <div class="form-group" style="font-size:1.3em;" style="width:244px; height:35px;">
            <button type="submit" id="join-submit" email_check_result="fail" style="background-color:#FF6F61; font-weight:bold;">가입하기</button>
          </div>
        </form>
        <br>
        <div class="text-center">이미 회원이신가요? <a class="login_button" href="{% url 'login' %}">로그인 하기</a></div>
      </div>
    </div>
  </div>
  <!-- form end  -->
  <br>
  <br>
</body>

</html>
{% endblock contents %}




<!-- Form
  <br>
  <br>
  <div class="form">
    <div class="form-panel one">
      <div class="form-header">
        <h1>Sign Up</h1>
      </div>
      <div class="form-content">
        <form action="" method="POST" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="form-group">
            <label for="username">Username(성명)</label>
            <input type="text" id="username" name="username" required="required"/>
          </div>
          <div class="form-group">
            <label for="email" style="width:100%;">E-mail(이메일)</label>
            <input type="text" id="email" name="email" required="required" style="width:70%;"/>
            <input type="button" id="checkemail" value="중복확인" style="float:left; width:28%;">
          </div>
          <div class="form-group">
            <label for="password">Password(비밀번호)</label>
            <input type="password" id="password" name="password1" required="required"/>
          </div>
          <div class="form-group">
            <label for="password">Confirm Password(비밀번호 확인)</label>
            <input type="password" id="password" name="password2" required="required">
          </div>
          <div class="form-group">
            <label for="nickname" style="width:100%;">Nickname(닉네임)</label>
            <input type="text" id="nickname" name="nickname" required="required" style="width:70%;">
            <input type="button" id="checknickname" value="중복확인" style="float:left; width:28%;">
          </div>
          <div class="form-group">
            <label for="birthday">Birthday(생년월일)</label>
            <input type="date" id="birthday" name="birthday" required="required">
          </div>
          <div class="form-group">
            <label for="phoneNumber">Phone Number(휴대폰 번호)</label>
            <input type="number" id="phoneNumber" name="phoneNumber" required="required" placeholder="010XXXXXXXX">
          </div>
          <div class="form-group">
            <label for="profileImage">Profile Image(프로필 사진)</label>
            <input  type="file"  name="profileImage" id="profileImage">
          </div>
          <div class="form-group">
            <label for="fundNumber">Fund number(기부 번호)</label>
            <input type="number" id="fundNumber" name="fundNumber">
          </div>
          <div class="form-group">
            <label for="keword">Keyword(관심 키워드)</label>
            <input type="text" id="Keyword" name="Keyword">
          </div>
          <br>
          <div class="form-group" style="font-size:1.3em;">
            <button type="submit">가입하기</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  form end  -->